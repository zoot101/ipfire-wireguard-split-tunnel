#######################################
# IPFire Wireguard VPN Tunnel Script Configuration File
#######################################
# Github Page: https://github.com/zoot101/ipfire-wireguard-split-tunnel
#######################################

# Default Location: /etc/wireguard-vpn-tunnel/wireguard-vpn-tunnel.conf
# Main Script Location: /etc/init.d/wireguard-vpn-tunnel

#######################################
# Name of Wireguard Interface to connect to VPN Provider
#######################################
# Avoid wg0 as that is the default. The main script will exit with
# an error if wg0 is chosen.
wg_vpn_interface="wgtunnel0"

#######################################
# Wireguard/OpenVPN Roadwarrior Subnet & Interface
#######################################
# Required to add a route so devices on the LAN
# that connect out through the VPN Tunnel can reply to a Roadwarrior
# connected device. Comment out if not using a Roadwarrior setup be it
# OpenVPN or Wireguard based.
#roadwarrior_iface="wg0"
#roadwarrior_network="192.168.3.0/24"

#######################################
# Blue, Green & Orange Interface Names & Subnets
#######################################
# Required to create the appropriate routing table. If not using a
# Blue or Orange Network comment them out
green_iface="green0"
green_network="192.168.1.0/24"
#blue_iface="blue0"
#blue_network="192.168.2.0/24"
#orange_iface="orange0"
#orange_network="192.168.2.0/24"

#######################################
# Path to Wireguard Config File
#######################################
# This should work with the wireguard config file that is downloaded
# direct from the VPN Provider. Only the required parameters are
# extracted - Private Key, Public Key, Endpoint & Local IP
#wg_config_file="/path/to/wireguard/vpn/provider/config/file.conf"

#######################################
# IP Addresses to Pass Through the Tunnel
#######################################
# Enter as Array, can be the entire Green, Blue or Orange
# networks, or just individual IPs. To specify an entire subnet, use
# the notation 192.168.0.0/24 etc. For individual IPs use 192.168.0.1/32
# or 192.168.0.1
#
# Note that if there is something on the network that is required to be
# directly accessible from the outside internet like a WebServer, it should NOT
# be included on this list so it can correctly talk back to the outside device.
#tunnel_ips=( "192.168.1.0/24" \
#             "192.168.2.0/24"  )

#######################################
# IP Addresses to Exclude
#######################################
# This setting is intended to be used where one wants to pass the entire
# Green/Blue/Orange subnet over the VPN tunnel, but exclude a select number
# of IP addresses for things like a webserver that needs to be reachable
# from the internet or a Desktop/Laptop that one uses to connect to
# company servers to work from home.
#
# It works by adding a policy based routing rule with higher priority
# than the VPN routing that sends those select IPs to the main
# routing table instead. Enter as an array. Comment out if not using.
#excluded_ips=( "192.168.0.6"  \
#               "192.168.0.7"  \
#               "192.168.1.80" )

#######################################
# Block DNS Through Tunnel?
#######################################
# As an examples lets say one has a local DNS Server handling all
# DNS on the local network, but wishes to block access to external
# DNS servers such that it forces clients to use the local DNS server.
# By default the script does not do this. Extra firewall rules are required
# to be added to achieve this.
# 
# To enable this, set the block_tunnel_dns parameter to "yes" and populate
# the local_dns_servers with the IP address of the local DNS servers on
# the network that you want to allow through the tunnel.
#
# Comment out if one is happy with unrestricted DNS access through the tunnel.
#block_tunnel_dns="yes"
#local_dns_servers=( "192.168.0.13" "192.168.0.97" )

#######################################
# Send Firewall DNS Through Tunnel?
#######################################
# This option is intended for those who are using IPFire's Unbound DNS server
# for all of the clients on their network and desire to have the DNS requests
# sent into the tunnel also.
#
# This adds the necessary firewall rules to allow the Firewall itself to send
# DNS traffic over the tunnel, and adds an additional Policy Based Routing
# rule to set this up. This avoids having to change anything in IPFire's
# Unbound configuration.
#
# Note though if one is using IPFire's Unbound server in Recursive mode, one
# may have problems with the Root DNS Servers refusing queries from certain
# VPN IPs. It might be better to just configure Unbound through the WebUI
# to use a forwarding server instead. There is a great list here:
# https://www.ipfire.org/docs/dns/public-servers
#
# Should be "yes" or "no". Comment out or set to no if not using.
#route_firewall_dns_into_tunnel="no"

